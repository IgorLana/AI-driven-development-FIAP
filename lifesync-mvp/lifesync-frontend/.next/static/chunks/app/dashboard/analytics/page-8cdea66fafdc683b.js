(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{8290:(e,t,s)=>{Promise.resolve().then(s.bind(s,1372))},1372:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),r=s(2115),l=s(5739);function n(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(!0),[i,o]=(0,r.useState)("");(0,r.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await l.rh.getMoodSummary();t(e.data)}catch(e){o("N\xe3o foi poss\xedvel carregar os dados de analytics. Verifique sua conex\xe3o.")}finally{n(!1)}};if(s)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"text-xl text-gray-600",children:"Carregando analytics..."})});if(i)return(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-8 rounded-xl text-center",children:i});if(!e)return null;let d=["\uD83D\uDE22","\uD83D\uDE15","\uD83D\uDE10","\uD83D\uDE42","\uD83D\uDE04"];return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics da Empresa"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"M\xe9dia de Mood"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.averageMood.toFixed(2)})]}),(0,a.jsx)("div",{className:"text-4xl",children:d[Math.round(e.averageMood)-1]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total de Check-ins"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.totalCheckins})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCCA"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Taxa de Engajamento"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[e.engagementRate.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFAF"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Distribui\xe7\xe3o de Mood"}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(t=>{let s=e.moodDistribution[t];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:d[t-1]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["N\xedvel ",t]})]}),(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[s.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:"".concat(s,"%")}})})]},t)})})]})]})}},5739:(e,t,s)=>{"use strict";s.d(t,{Ps:()=>h,R2:()=>c,hG:()=>x,lu:()=>d,rh:()=>u});var a=s(423);let r="http://localhost:3001/api/v1",l=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let n=!1,i=[];function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.forEach(s=>{let{resolve:a,reject:r}=s;e?r(e):a(t)}),i=[]}l.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){if(n)return new Promise((e,t)=>{i.push({resolve:e,reject:t})}).then(e=>(s.headers.Authorization="Bearer ".concat(e),l(s)));s._retry=!0,n=!0;let t=localStorage.getItem("refreshToken");if(!t)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{let{data:e}=await a.A.post("".concat(r,"/auth/refresh"),{refreshToken:t}),n=e.accessToken;return localStorage.setItem("accessToken",n),e.refreshToken&&localStorage.setItem("refreshToken",e.refreshToken),o(null,n),s.headers.Authorization="Bearer ".concat(n),l(s)}catch(e){return o(e,null),localStorage.clear(),window.location.href="/login",Promise.reject(e)}finally{n=!1}}return Promise.reject(e)});let c={login:(e,t,s)=>l.post("/auth/login",{email:e,password:t,companyDomain:s}),register:(e,t,s,a)=>l.post("/auth/register",{name:e,email:t,password:s,companyDomain:a}),refresh:e=>l.post("/auth/refresh",{refreshToken:e}),logout:e=>l.post("/auth/logout",{refreshToken:e})},d={getMe:()=>l.get("/users/me"),getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2?arguments[2]:void 0;return l.get("/users",{params:{page:e,limit:t,role:s}})},update:(e,t)=>l.patch("/users/".concat(e),t)},h={create:(e,t,s)=>l.post("/mood-logs",{mood:e,tags:t,note:s}),getHistory:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;return l.get("/mood-logs/history",{params:{limit:e,...t?{cursor:t}:{}}})}},x={getDaily:()=>l.get("/challenges/daily"),complete:e=>l.post("/challenges/".concat(e,"/complete")),create:e=>l.post("/challenges",e)},u={getMoodSummary:(e,t)=>l.get("/analytics/mood-summary",{params:{startDate:e,endDate:t}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[423,441,517,358],()=>t(8290)),_N_E=e.O()}]);