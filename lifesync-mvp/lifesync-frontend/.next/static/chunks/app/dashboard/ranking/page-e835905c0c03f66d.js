(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{9096:(e,t,s)=>{Promise.resolve().then(s.bind(s,2022))},2022:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),r=s(2115),l=s(5739);function n(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=(await l.lu.getAll(1,100)).data.data.sort((e,t)=>t.xp-e.xp);t(e)}catch(e){console.error("Erro ao carregar ranking:",e)}finally{n(!1)}};if(s)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"text-xl text-gray-600",children:"Carregando ranking..."})});let c=e=>1===e?"\uD83E\uDD47":2===e?"\uD83E\uDD48":3===e?"\uD83E\uDD49":"".concat(e,"\xba"),i=e=>"ADMIN"===e?"bg-red-100 text-red-800":"MANAGER"===e?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800";return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"\uD83C\uDFC6 Ranking de Participantes"}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Posi\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Nome"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Fun\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Level"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"XP Total"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(t<3?"bg-yellow-50":""),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:c(t+1)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.email})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full ".concat(i(e.role)),children:e.role})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83C\uDFC6"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:e.level})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"â­"}),(0,a.jsx)("span",{className:"text-sm font-bold text-blue-600",children:e.xp})]})})]},e.id))})]})})}),0===e.length&&(0,a.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Nenhum participante encontrado."}),(0,a.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"\uD83D\uDCA1 Dica:"})," Complete desafios e registre seu humor diariamente para ganhar XP e subir no ranking!"]})})]})}},5739:(e,t,s)=>{"use strict";s.d(t,{Ps:()=>x,R2:()=>i,hG:()=>h,lu:()=>d,rh:()=>p});var a=s(423);let r="http://localhost:3001/api/v1",l=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let n=!1,o=[];function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.forEach(s=>{let{resolve:a,reject:r}=s;e?r(e):a(t)}),o=[]}l.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){if(n)return new Promise((e,t)=>{o.push({resolve:e,reject:t})}).then(e=>(s.headers.Authorization="Bearer ".concat(e),l(s)));s._retry=!0,n=!0;let t=localStorage.getItem("refreshToken");if(!t)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{let{data:e}=await a.A.post("".concat(r,"/auth/refresh"),{refreshToken:t}),n=e.accessToken;return localStorage.setItem("accessToken",n),e.refreshToken&&localStorage.setItem("refreshToken",e.refreshToken),c(null,n),s.headers.Authorization="Bearer ".concat(n),l(s)}catch(e){return c(e,null),localStorage.clear(),window.location.href="/login",Promise.reject(e)}finally{n=!1}}return Promise.reject(e)});let i={login:(e,t,s)=>l.post("/auth/login",{email:e,password:t,companyDomain:s}),register:(e,t,s,a)=>l.post("/auth/register",{name:e,email:t,password:s,companyDomain:a}),refresh:e=>l.post("/auth/refresh",{refreshToken:e}),logout:e=>l.post("/auth/logout",{refreshToken:e})},d={getMe:()=>l.get("/users/me"),getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2?arguments[2]:void 0;return l.get("/users",{params:{page:e,limit:t,role:s}})},update:(e,t)=>l.patch("/users/".concat(e),t)},x={create:(e,t,s)=>l.post("/mood-logs",{mood:e,tags:t,note:s}),getHistory:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;return l.get("/mood-logs/history",{params:{limit:e,...t?{cursor:t}:{}}})}},h={getDaily:()=>l.get("/challenges/daily"),complete:e=>l.post("/challenges/".concat(e,"/complete")),create:e=>l.post("/challenges",e)},p={getMoodSummary:(e,t)=>l.get("/analytics/mood-summary",{params:{startDate:e,endDate:t}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[423,441,517,358],()=>t(9096)),_N_E=e.O()}]);